(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{444:function(t,a,n){"use strict";n.r(a);var e=n(1),s=Object(e.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("hr"),t._v(" "),a("h2",{attrs:{id:"theme-channing-cyan"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#theme-channing-cyan"}},[t._v("#")]),t._v(" theme: channing-cyan")]),t._v(" "),a("h3",{attrs:{id:"前言"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[t._v("#")]),t._v(" 前言")]),t._v(" "),a("p",[t._v("又来搞事了，之前配置了个阿里云服务器 现在又开始试试腾讯云，一个新的服务器 这里我选了centos系统")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/428eeddeea444f2f99fcd38c32ba8039~tplv-k3u1fbpfcp-watermark.image",alt:"image.png"}})]),t._v(" "),a("p",[t._v("之前的相关文章地址")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://juejin.cn/post/6948748692497121294",target:"_blank",rel:"noopener noreferrer"}},[t._v("Nginx部署多项目"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://juejin.cn/post/6940841823036243982",target:"_blank",rel:"noopener noreferrer"}},[t._v("浅尝CI/CD，真香"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://juejin.cn/post/6948370416742170638",target:"_blank",rel:"noopener noreferrer"}},[t._v("Jenkins+gitlab自动化构建部署"),a("OutboundLink")],1)])]),t._v(" "),a("h3",{attrs:{id:"一些基础配置安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一些基础配置安装"}},[t._v("#")]),t._v(" 一些基础配置安装")]),t._v(" "),a("h4",{attrs:{id:"安装git-yum-install-git"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装git-yum-install-git"}},[t._v("#")]),t._v(" 安装git(yum install git)")]),t._v(" "),a("p",[t._v("验证安装是否成功\n"),a("img",{attrs:{src:"https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c3f8c09cfc0f4f63a5913bf2589f84bb~tplv-k3u1fbpfcp-watermark.image",alt:"image.png"}})]),t._v(" "),a("h4",{attrs:{id:"安装nvm"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装nvm"}},[t._v("#")]),t._v(" 安装nvm")]),t._v(" "),a("p",[t._v("命令：")]),t._v(" "),a("ol",[a("li",[t._v("(curl -o- https://raw.githubusercontent.com/creationix/nvm/v0.33.11/install.sh | bash)")]),t._v(" "),a("li",[t._v("(wget -qO- https://raw.githubusercontent.com/creationix/nvm/v0.33.11/install.sh | bash)")]),t._v(" "),a("li",[t._v("(git clone git://github.com/creationix/nvm.git ~/nvm)")])]),t._v(" "),a("p",[t._v("安装成功配置自动运行(这两句也是百度的，运行一下你的nvm命令才可使用)")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('echo "source ~/nvm/nvm.sh" >> ~/.bashrc\nsource ~/.bashrc\n')])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),a("p",[t._v("验证一手，表示安装成功也配置好了")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1ec2b1fdb67a4df49995a6717b7e5fd1~tplv-k3u1fbpfcp-watermark.image",alt:"image.png"}})]),t._v(" "),a("h4",{attrs:{id:"安装node"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装node"}},[t._v("#")]),t._v(" 安装node")]),t._v(" "),a("p",[a("code",[t._v("nvm install 12.16.1")]),t._v("\n这个版本看你自己 nvm安装node和切换node的一些操作 "),a("a",{attrs:{href:"https://www.cnblogs.com/zbx-boke/p/9383002.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("参考命令"),a("OutboundLink")],1),t._v(" 这里不继续说")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/4a2256789e7c49159f99cb85f2913697~tplv-k3u1fbpfcp-watermark.image",alt:"image.png"}}),t._v("\n成功！！下一步")]),t._v(" "),a("p",[t._v("PS：我拿到服务器或者新电脑 都会先下git和node 有了这两个再来个编辑器 你就可以前端开发了，实际中并没有很准确的优先级")]),t._v(" "),a("h3",{attrs:{id:"nginx-安装下载配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nginx-安装下载配置"}},[t._v("#")]),t._v(" Nginx 安装下载配置")]),t._v(" "),a("p",[t._v("再来个nginx，"),a("a",{attrs:{href:"https://baike.baidu.com/item/nginx/3817705?fr=aladdin",target:"_blank",rel:"noopener noreferrer"}},[t._v("nginx"),a("OutboundLink")],1),t._v("的相关的一些操作。")]),t._v(" "),a("h4",{attrs:{id:"centos安装nginx"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#centos安装nginx"}},[t._v("#")]),t._v(" centos安装nginx")]),t._v(" "),a("p",[t._v("推荐一篇nginx教程："),a("a",{attrs:{href:"https://juejin.cn/post/6844903701459501070#heading-0",target:"_blank",rel:"noopener noreferrer"}},[t._v("技术胖的Nginx入门视频教程"),a("OutboundLink")],1),t._v("\n学学学！！！")]),t._v(" "),a("p",[t._v("(yum install -y nginx)")]),t._v(" "),a("p",[t._v("安装成功直接"),a("code",[t._v("nginx")]),t._v("运行，直接浏览器访问服务器地址，如下图,奶思！ 直接成功")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/74cb9ef8793e4da3b4731c5c5a263dc9~tplv-k3u1fbpfcp-watermark.image",alt:"image.png"}}),t._v("\n那没修改配置的情况下，默认服务器上的静态资源目录"),a("code",[t._v("/usr/share/nginx/html")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/913937f18bf84e1d9414deb50fd545c9~tplv-k3u1fbpfcp-watermark.image",alt:"image.png"}})]),t._v(" "),a("p",[t._v("配置nginx的配置文件在"),a("code",[t._v("/etc/nginx")]),t._v("下，")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0dce748c4a054ebb87b3f2d55118a8c5~tplv-k3u1fbpfcp-watermark.image",alt:"image.png"}}),t._v("\n基本配置一样，默认端口80\n我这里只是新配置了一个1111端口，做测试")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("     server {\n        listen       1111 default_server;\n        listen       [::]:1111 default_server;\n        server_name  baimengling.cn;\n        root         /usr/share/nginx/www/;\n\n        index  index.html;\n    }\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br")])]),a("p",[a("img",{attrs:{src:"https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2d8657ae4aea4585b0a08110f76027c5~tplv-k3u1fbpfcp-watermark.image",alt:"image.png"}}),t._v("\n新建文件夹www,然后放个项目进去,然后看一下nginx配置有没有报错，没有就重启试试")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("nginx -t\nnginx -s reload\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),a("p",[t._v("最后浏览器访问"),a("code",[t._v("url:1111")]),t._v("服务器地址+端口(1111)，")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/db739dc3799544d5b47fcfb55244cbdd~tplv-k3u1fbpfcp-watermark.image",alt:"image.png"}}),t._v("\n发现可以访问到新项目，这步也成功")]),t._v(" "),a("h4",{attrs:{id:"配置-nginx-反向代理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置-nginx-反向代理"}},[t._v("#")]),t._v(" 配置 Nginx 反向代理")]),t._v(" "),a("p",[t._v("客户端对代理服务器是无感知的，客户端不需要做任何配置，用户只请求反向代理服务器，反向代理服务器选择目标服务器，获取数据后再返回给客户端。\n"),a("a",{attrs:{href:"https://www.cnblogs.com/ysocean/p/9392908.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("一文搞懂代理"),a("OutboundLink")],1)]),t._v(" "),a("h3",{attrs:{id:"安装jenkins"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装jenkins"}},[t._v("#")]),t._v(" 安装jenkins")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("安装java\n"),a("code",[t._v("yum install -y java")])])]),t._v(" "),a("li",[a("p",[t._v("安装jenkins")])])]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("cd  /data\nwget https://mirrors.tuna.tsinghua.edu.cn/jenkins/redhat-stable/jenkins-2.277.2-1.1.noarch.rpm\nsudo yum install jenkins-2.277.2-1.1.noarch.rpm\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br")])]),a("p",[a("a",{attrs:{href:"https://mp.weixin.qq.com/s/6GYD0l3FH6kC7nfwX-x7ow",target:"_blank",rel:"noopener noreferrer"}},[t._v("推荐文章"),a("OutboundLink")],1),t._v("很全的一篇各种工具安装和配置")]),t._v(" "),a("p",[t._v("运行")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/50f31ab64c2340a099976f0fa535bbcc~tplv-k3u1fbpfcp-watermark.image",alt:"image.png"}})]),t._v(" "),a("p",[t._v("然后访问服务器地址+端口(8080)")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/4262b41bad5b4c72a4bdccfe9bb6a6d1~tplv-k3u1fbpfcp-watermark.image",alt:"image.png"}})]),t._v(" "),a("p",[t._v("可以看见成功访问，接下来又是一些jenkins一些使用和配置 我这跳过了")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2c6d81c42fec4540991f5a0f9aef75b9~tplv-k3u1fbpfcp-watermark.image",alt:"image.png"}})]),t._v(" "),a("h3",{attrs:{id:"安装pm2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装pm2"}},[t._v("#")]),t._v(" 安装PM2")]),t._v(" "),a("p",[t._v("PM2是node进程管理工具，可以利用它来简化很多node应用管理的繁琐任务，如性能监控、自动重启、负载均衡等，而且使用非常简单。")]),t._v(" "),a("h4",{attrs:{id:"安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[t._v("#")]),t._v(" 安装：")]),t._v(" "),a("p",[a("code",[t._v("npm install -g pm2")])]),t._v(" "),a("p",[t._v("部署express或者koa后端应用。一般我们都是通过npm start启动应用，其实就是调用node ./bin/www。那么，换成pm2就是\n"),a("code",[t._v("pm2 start ./bin/www –watch")])]),t._v(" "),a("p",[t._v("注意，这里用了–watch参数，意味着当你的express应用代码发生变化时，pm2会帮你重启服务(长时间监测有可能会出现问题，这时需要重启项目)")]),t._v(" "),a("h4",{attrs:{id:"常用命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#常用命令"}},[t._v("#")]),t._v(" 常用命令：")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("$ npm install pm2 -g     # 命令行安装 pm2\n$ pm2 start app.js -i 4  # 后台运行pm2，启动4个app.js\n                         # 也可以把'max' 参数传递给 start\n                         # 正确的进程数目依赖于Cpu的核心数目\n$ pm2 start app.js --name my-api # 命名进程\n$ pm2 list               # 显示所有进程状态\n$ pm2 monit              # 监视所有进程\n$ pm2 logs               # 显示所有进程日志\n$ pm2 stop all           # 停止所有进程\n$ pm2 restart all        # 重启所有进程\n$ pm2 reload all         # 0 秒停机重载进程 (用于 NETWORKED 进程)\n$ pm2 stop 0             # 停止指定的进程\n$ pm2 restart 0          # 重启指定的进程\n$ pm2 startup            # 产生 init 脚本 保持进程活着\n$ pm2 web                # 运行健壮的 computer API endpoint (http://localhost:9615)\n$ pm2 delete 0           # 杀死指定的进程\n$ pm2 delete all         # 杀死全部进程\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br")])]),a("h3",{attrs:{id:"结束语"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#结束语"}},[t._v("#")]),t._v(" 结束语")]),t._v(" "),a("p",[t._v("这篇只是我刚拿到服务器下的一些工具类软件，确实没什么干货")]),t._v(" "),a("p",[t._v("简单记录一下 说不定过了很久后还可以回头看看那些年写过的博文。")])])}),[],!1,null,null,null);a.default=s.exports}}]);